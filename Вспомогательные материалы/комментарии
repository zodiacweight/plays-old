
1. Перенести установку клика по ключу (вызов setClickOnKey) в другое место.
2. Сделать, чтобы при клике по ключу в тот момент, когда ворота открыты, они закрывались. Может быть, удалялись результаты
addPartsToContentList и loadAboutCharacters.
Для этого сделать, чтобы кнопки в secondary передавались в функцию setClickOnKey, и там им назначался onclick
с проверкой открыты или закрыты ворота, и закрытием ворот в случае, если они открыты. Можно сделать отдельную функцию,
в которой будет клик по этим кнопкам.
3. Сделать, чтобы при входе в secondary кнопка, соответствующая кликнутому диву, сразу была пассивной.