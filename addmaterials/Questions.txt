Пиявка может просыпаться из-за того, что тот момент, где она возникает, происходит тогда, когда
данные еще не определены - показать на схеме параллельные процессы.
Идея: сделать when продолжением сразу после getFileContents через then, но тогда when с кодом, отвечающим
за вид, будет располагаться в модели.